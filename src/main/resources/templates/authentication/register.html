<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layouts/main}">
<head>
    <title>Inscription</title>
</head>
<body>
    <div class="container">
        <div id="notification" th:replace="~{main :: notification}"></div>
        <div layout:fragment="content">
            <h2>Inscription</h2>

            <form th:action="@{/register}" th:object="${user}" method="post">
                <div>
                    <label>Prénom</label>
                    <input type="text" th:field="*{firstname}" required>
                    <div class="error" th:errors="*{firstname}"></div>
                </div>
                <div>
                    <label>Nom</label>
                    <input type="text" th:field="*{lastname}" required>
                    <div class="error" th:errors="*{lastname}"></div>
                </div>
                <div>
                    <label>Email</label>
                    <input type="email" th:field="*{email}" required>
                    <div class="error" th:errors="*{email}"></div>
                </div>
                <div>
                    <label>Login</label>
                    <input type="text" th:field="*{login}" required>
                    <div class="error" th:errors="*{login}"></div>
                </div>
                <div>
                    <label>Mot de passe</label>
                    <input type="password" th:field="*{password}" required>
                    <div class="error" th:errors="*{password}"></div>
                </div>
                <div>
                    <label>Confirmer le mot de passe</label>
                    <input type="password" th:field="*{confirmPassword}" required>
                    <div class="error" th:errors="*{confirmPassword}"></div>
                </div>

                <!-- Erreur globale sur le formulaire (mot de passe non concordant) -->
                <div class="error" th:errors="*{__all__}"></div>

                <div>
                    <label>Langue</label>
                    <select th:field="*{langue}">
                        <option value="">Choisissez votre langue</option>
                        <option value="fr">Français</option>
                        <option value="nl">Néerlandais</option>
                        <option value="en">Anglais</option>
                    </select>
                    <div class="error" th:errors="*{langue}"></div>
                </div>
                <button type="submit">S'inscrire</button>
            </form>

            <p><a href="/login.html">Se connecter</a></p>
        </div>
    </div>
</body>
</html>